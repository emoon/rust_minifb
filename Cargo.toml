[package]
name = "minifb"
version = "0.22.0"
license = "MIT OR Apache-2.0"
authors = ["Daniel Collin <daniel@collin.com>"]
description = "Cross-platform window setup with optional bitmap rendering"
keywords = ["windowing", "window", "framebuffer"]
categories = ["rendering"]
repository = "https://github.com/emoon/rust_minifb"
documentation = "https://docs.rs/minifb/0.15/minifb"
build = "build.rs"
edition = "2018"
readme = "README.md"

exclude = ["resources/"]

[badges]
maintenance = { status = "actively-developed" }

[dev-dependencies]
png = "0.17"

[build-dependencies]
cc = "1.0"

[dependencies]
raw-window-handle = "0.4"
cast = "0.2"
time = "0.1.34"
instant = { version = "0.1", features = [ "web-sys", "now" ] }

[target.'cfg(windows)'.dependencies.winapi]
version = "0.3"
features = ["winuser", "wingdi", "libloaderapi", "errhandlingapi", "fileapi"]

[features]
default = ["wayland", "x11"]
x11 = ["x11-dl", "xkb", "libc"]
wayland = [
  "wayland-client",
  "wayland-protocols",
  "wayland-cursor",
  "tempfile",
  "xkb",
  "xkbcommon-sys",
]

[target.'cfg(not(any(target_os = "macos", target_os = "redox", windows)))'.dependencies]
wayland-client = { version = "0.29", optional = true }
wayland-protocols = { version = "0.29", features = [
  "client",
  "unstable_protocols",
], optional = true }
wayland-cursor = { version = "0.29", optional = true }
tempfile = { version = "3.3", optional = true }
xkb = { version = "0.2.1", optional = true }
xkbcommon-sys = { version = "0.7.5", optional = true }
x11-dl = { version = "2.19.1", optional = true }
libc = { version = "0.2.107", optional = true }

[target.x86_64-unknown-redox.dependencies]
orbclient = "0.3.20"

[target.wasm32-unknown-unknown.dependencies]
stdweb = "0.4.20"

[target.wasm32-unknown-emscripten.dependencies]
stdweb = "0.4.20"

[target.asmjs-unknown-emscripten.dependencies]
stdweb = "0.4.20"
